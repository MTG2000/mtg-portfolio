{"ast":null,"code":"var __jsx = React.createElement;\nimport React from \"react\";\nimport styles from \"../../components/styles/works.module.scss\";\nimport ProjectsWrapper from \"../../components/ProjectsWrapper\";\nimport Link from \"next/link\";\nimport Head from \"next/head\";\nimport classNames from \"classnames\";\nimport Axios from \"axios\";\nimport cookie from \"cookie\";\n\nconst Projects = ({\n  projects,\n  isAuth\n}) => {\n  const addProjectClasses = classNames(styles.addProject, \"btn\", \"btn-primary\", {\n    \"d-none\": !isAuth\n  });\n  return __jsx(\"main\", {\n    className: styles.works\n  }, __jsx(Head, null, __jsx(\"title\", null, \"My Projects\")), \">\", __jsx(\"div\", {\n    className: \"container py-2 pt-5\"\n  }, __jsx(\"h1\", {\n    className: \"display-3 text-primary text-center mt-5 mb-5\",\n    \"data-aos\": \"fade-down\"\n  }, \"My Latest Projects\"), __jsx(ProjectsWrapper, {\n    projects: projects\n  }), __jsx(Link, {\n    href: \"/projects/add\"\n  }, __jsx(\"a\", {\n    className: addProjectClasses\n  }, \"Add Project\"))));\n};\n\nexport const getServerSideProps = async context => {\n  try {\n    const {\n      accessToken\n    } = cookie.parse(context.req.headers.cookie || \"\");\n    const result = await Axios.get(\"https://mtgdev.herokuapp.com/api/projects\");\n\n    if (result.data.success) {\n      const data = await result.data.projects;\n      return {\n        props: {\n          projects: data,\n          isAuth: accessToken || \"\"\n        } // will be passed to the page component as props\n\n      };\n    } else {\n      console.log(\"Not able to get data\");\n      return {\n        props: {}\n      };\n    }\n  } catch (err) {\n    console.log(err);\n    return {\n      props: {}\n    };\n  }\n};\nexport default Projects;","map":null,"metadata":{},"sourceType":"module"}